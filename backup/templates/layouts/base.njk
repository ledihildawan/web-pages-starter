<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="{{ title or 'App' }}" />
    <meta name="color-scheme" content="light dark" />

    <title>{{ title or 'App' }}</title>

    {%- block styles %}
        <link rel="stylesheet" href="/styles/main.css" />
    {% endblock %}
</head>
<body class="min-h-screen bg-background text-foreground antialiased">
    <div id="app">
        <nav class="fixed top-0 right-0 left-0 z-50 px-4 py-3 border-b border-border bg-background/80 backdrop-blur-sm">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <a href="{{ url('/') }}" class="text-sm font-semibold text-foreground">
                    {{ title or 'App' }}
                </a>
                <div class="flex items-center gap-2" x-data="app">
                    <button x-cloak
                        @click="toggleLanguage()"
                        class="inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-muted transition-colors"
                        aria-label="Toggle language"
                    >
                        <span x-text="language === 'id' ? 'üáÆüá©' : 'üá¨üáß'" class="text-sm"></span>
                    </button>
                    <button x-cloak
                        @click="toggleTheme()"
                        class="inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-muted transition-colors"
                        :aria-label="theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode'"
                    >
                        <span x-show="theme === 'dark'" class="text-sm">‚òÄÔ∏è</span>
                        <span x-show="theme === 'light'" class="text-sm">üåô</span>
                    </button>
                </div>
            </div>
        </nav>

        <main class="pt-16">
            {%- block content %}{% endblock %}
        </main>
    </div>

    
    {%- block scripts %}
        <script defer src="/scripts/main.ts"></script>
    {% endblock %}
</body>
</html>