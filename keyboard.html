<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>CORE-65 | Premium Mechanical Simulator</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@600;800&family=Inter:wght@400;700;800&display=swap');
            :root {
                --case-bg: #e2e8f0;
                --navy: #1e293b;
                --blue: #dbeafe;
                --white: #ffffff;
                --shadow-navy: #020617;
                --shadow-blue: #93c5fd;
                --shadow-white: #cbd5e1;
                --u: 50px;
                --gap: 4px;
            }

            body {
                margin: 0;
                padding: 0;
                background-color: #050505;
                background-image: radial-gradient(circle at center, #1a1a1a 0%, #050505 100%);
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                font-family: 'Inter', sans-serif;
                user-select: none;
                overflow: hidden;
            }

            .keyboard-case {
                background-color: var(--case-bg);
                background-image: linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.2) 100%);
                padding: 22px;
                border-radius: 16px;
                border: 1px solid #94a3b8;
                box-shadow: 0 60px 120px -30px rgba(0,0,0,1), inset 0 -6px 12px rgba(0,0,0,0.1), inset 0 3px 6px rgba(255,255,255,1);
                display: flex;
                flex-direction: column;
                gap: var(--gap);
                width: fit-content;
            }

            .row {
                display: flex;
                gap: var(--gap);
                width: 100%;
            }

            .key {
                height: 52px;
                border-radius: 6px;
                border: none;
                cursor: pointer;
                font-family: 'JetBrains Mono', monospace;
                font-weight: 800;
                font-size: 11px;
                position: relative;
                transition: all 0.07s cubic-bezier(0.2, 1, 0.3, 1);
                display: flex;
                align-items: center;
                justify-content: center;
                border-top: 1px solid rgba(255,255,255,0.5);
                box-sizing: border-box;
                outline: none;
            }

            .navy {
                background-color: var(--navy);
                color: #f8fafc;
                box-shadow: 0 5px 0 var(--shadow-navy);
            }
            .blue {
                background-color: var(--blue);
                color: #2563eb;
                box-shadow: 0 5px 0 var(--shadow-blue);
                text-transform: uppercase;
                font-size: 8px;
            }
            .white {
                background-color: var(--white);
                color: #334155;
                box-shadow: 0 5px 0 var(--shadow-white);
            }

            .key.active {
                transform: translateY(5px) !important;
                box-shadow: 0 0 0 transparent !important;
                filter: brightness(0.9) saturate(1.3);
                border-top: 0;
            }

            .w-1u {
                width: var(--u);
            }
            .w-1-25u {
                width: calc(var(--u) * 1.25 + var(--gap) * 0.25);
            }
            .w-1-5u {
                width: calc(var(--u) * 1.5 + var(--gap) * 0.5);
            }
            .w-1-75u {
                width: calc(var(--u) * 1.75 + var(--gap) * 0.75);
            }
            .w-2u {
                width: calc(var(--u) * 2 + var(--gap));
            }
            .w-2-25u {
                width: calc(var(--u) * 2.25 + var(--gap) * 1.25);
            }
            .w-flex {
                flex: 1;
            }

            .sub {
                position: absolute;
                top: 4px;
                left: 6px;
                font-size: 9px;
                opacity: 0.45;
                font-weight: 500;
            }

            .particle {
                position: absolute;
                pointer-events: none;
                background: #3b82f6;
                border-radius: 50%;
                animation: explode 0.6s cubic-bezier(0.1, 0.9, 0.2, 1) forwards;
                z-index: 100;
            }
            @keyframes explode {
                0% {
                    transform: scale(1);
                    opacity: 1;
                }
                100% {
                    transform: scale(0);
                    opacity: 0;
                    translate: var(--x) var(--y);
                }
            }
        </style>
    </head>
    <body>

        <div class="keyboard-case" id="kb-case"></div>

        <script>
            // --- ADVANCED PREMIUM SOUND ENGINE ---
            const audioCtx = new(window.AudioContext || window.webkitAudioContext)();

            function playPremiumThock(isSpace = false) {
                if (audioCtx.state === 'suspended') 
                    audioCtx.resume();
                const now = audioCtx.currentTime;

                // 1. The Low "Thock" Body (Nada rendah padat)
                const bodyOsc = audioCtx.createOscillator();
                const bodyGain = audioCtx.createGain();
                const lowPass = audioCtx.createBiquadFilter();

                bodyOsc.type = 'triangle';
                bodyOsc
                    .frequency
                    .setValueAtTime(
                        isSpace
                        ? 75
                        : 110 + Math.random() * 10,
                    now);
                bodyOsc
                    .frequency
                    .exponentialRampToValueAtTime(40, now + 0.1);

                lowPass.type = 'lowpass';
                lowPass.frequency.value = isSpace
                    ? 350
                    : 600;

                bodyGain
                    .gain
                    .setValueAtTime(0.4, now);
                bodyGain
                    .gain
                    .exponentialRampToValueAtTime(0.01, now + 0.12);

                bodyOsc.connect(lowPass);
                lowPass.connect(bodyGain);
                bodyGain.connect(audioCtx.destination);

                // 2. The Transient "Click" (Suara kontak fisik halus)
                const clickOsc = audioCtx.createOscillator();
                const clickGain = audioCtx.createGain();
                const highPass = audioCtx.createBiquadFilter();

                clickOsc.type = 'sine';
                clickOsc
                    .frequency
                    .setValueAtTime(1200, now);

                highPass.type = 'highpass';
                highPass.frequency.value = 1000;

                clickGain
                    .gain
                    .setValueAtTime(0.05, now);
                clickGain
                    .gain
                    .exponentialRampToValueAtTime(0.001, now + 0.02);

                clickOsc.connect(highPass);
                highPass.connect(clickGain);
                clickGain.connect(audioCtx.destination);

                bodyOsc.start(now);
                bodyOsc.stop(now + 0.12);
                clickOsc.start(now);
                clickOsc.stop(now + 0.02);
            }

            const layoutData = [
                [
                    {
                        l: 'Esc',
                        c: 'Escape',
                        t: 'navy',
                        w: 'w-1u'
                    }, {
                        l: '1',
                        s: '!',
                        c: 'Digit1',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '2',
                        s: '@',
                        c: 'Digit2',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '3',
                        s: '#',
                        c: 'Digit3',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '4',
                        s: '$',
                        c: 'Digit4',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '5',
                        s: '%',
                        c: 'Digit5',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '6',
                        s: '^',
                        c: 'Digit6',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '7',
                        s: '&',
                        c: 'Digit7',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '8',
                        s: '*',
                        c: 'Digit8',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '9',
                        s: '(',
                        c: 'Digit9',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '0',
                        s: ')',
                        c: 'Digit0',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '-',
                        s: '_',
                        c: 'Minus',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '=',
                        s: '+',
                        c: 'Equal',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'Bksp',
                        c: 'Backspace',
                        t: 'blue',
                        w: 'w-2u'
                    }, {
                        l: 'Hm',
                        c: 'Home',
                        t: 'blue',
                        w: 'w-1u'
                    }
                ],
                [
                    {
                        l: 'Tab',
                        c: 'Tab',
                        t: 'blue',
                        w: 'w-1-5u'
                    }, {
                        l: 'Q',
                        c: 'KeyQ',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'W',
                        c: 'KeyW',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'E',
                        c: 'KeyE',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'R',
                        c: 'KeyR',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'T',
                        c: 'KeyT',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'Y',
                        c: 'KeyY',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'U',
                        c: 'KeyU',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'I',
                        c: 'KeyI',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'O',
                        c: 'KeyO',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'P',
                        c: 'KeyP',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '[',
                        s: '{',
                        c: 'BracketLeft',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: ']',
                        s: '}',
                        c: 'BracketRight',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '\\',
                        s: '|',
                        c: 'Backslash',
                        t: 'white',
                        w: 'w-1-5u'
                    }, {
                        l: 'Del',
                        c: 'Delete',
                        t: 'blue',
                        w: 'w-1u'
                    }
                ],
                [
                    {
                        l: 'Caps',
                        c: 'CapsLock',
                        t: 'blue',
                        w: 'w-1-75u'
                    }, {
                        l: 'A',
                        c: 'KeyA',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'S',
                        c: 'KeyS',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'D',
                        c: 'KeyD',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'F',
                        c: 'KeyF',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'G',
                        c: 'KeyG',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'H',
                        c: 'KeyH',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'J',
                        c: 'KeyJ',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'K',
                        c: 'KeyK',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'L',
                        c: 'KeyL',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: ';',
                        s: ':',
                        c: 'Semicolon',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: "'",
                        s: '"',
                        c: 'Quote',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'Enter',
                        c: 'Enter',
                        t: 'navy',
                        w: 'w-2-25u'
                    }, {
                        l: 'PgU',
                        c: 'PageUp',
                        t: 'blue',
                        w: 'w-1u'
                    }
                ],
                [
                    {
                        l: 'Shift',
                        c: 'ShiftLeft',
                        t: 'blue',
                        w: 'w-2-25u'
                    }, {
                        l: 'Z',
                        c: 'KeyZ',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'X',
                        c: 'KeyX',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'C',
                        c: 'KeyC',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'V',
                        c: 'KeyV',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'B',
                        c: 'KeyB',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'N',
                        c: 'KeyN',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'M',
                        c: 'KeyM',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: ',',
                        s: '<',
                        c: 'Comma',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '.',
                        s: '>',
                        c: 'Period',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '/',
                        s: '?',
                        c: 'Slash',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'Shift',
                        c: 'ShiftRight',
                        t: 'blue',
                        w: 'w-flex'
                    }, {
                        l: '▲',
                        c: 'ArrowUp',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: 'PgD',
                        c: 'PageDown',
                        t: 'blue',
                        w: 'w-1u'
                    }
                ],
                [
                    {
                        l: 'Ctrl',
                        c: 'ControlLeft',
                        t: 'blue',
                        w: 'w-1-25u'
                    }, {
                        l: 'Win',
                        c: 'MetaLeft',
                        t: 'blue',
                        w: 'w-1u'
                    }, {
                        l: 'Alt',
                        c: 'AltLeft',
                        t: 'blue',
                        w: 'w-1-25u'
                    }, {
                        l: '',
                        c: 'Space',
                        t: 'navy',
                        w: 'w-flex'
                    }, {
                        l: 'Alt',
                        c: 'AltRight',
                        t: 'blue',
                        w: 'w-1-25u'
                    }, {
                        l: 'Fn',
                        c: 'Fn',
                        t: 'blue',
                        w: 'w-1u'
                    }, {
                        l: 'Ctrl',
                        c: 'ControlRight',
                        t: 'blue',
                        w: 'w-1u'
                    }, {
                        l: '◀',
                        c: 'ArrowLeft',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '▼',
                        c: 'ArrowDown',
                        t: 'white',
                        w: 'w-1u'
                    }, {
                        l: '▶',
                        c: 'ArrowRight',
                        t: 'white',
                        w: 'w-1u'
                    }
                ]
            ];

            const container = document.getElementById('kb-case');
            layoutData.forEach(row => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'row';
                row.forEach(key => {
                    const btn = document.createElement('button');
                    btn.className = `key ${key.t} ${key.w}`;
                    btn.id = key.c;
                    if (key.s) {
                        const sub = document.createElement('span');
                        sub.className = 'sub';
                        sub.innerText = key.s;
                        btn.appendChild(sub);
                    }
                    const label = document.createElement('span');
                    label.innerText = key.l;
                    btn.appendChild(label);

                    btn.onmousedown = (e) => {
                        handlePress(key.c);
                        createParticles(e.clientX, e.clientY);
                    };
                    btn.onmouseup = btn.onmouseleave = () => handleRelease(key.c);
                    rowDiv.appendChild(btn);
                });
                container.appendChild(rowDiv);
            });

            function handlePress(code) {
                const el = document.getElementById(code);
                if (el && !el.classList.contains('active')) {
                    el
                        .classList
                        .add('active');
                    playPremiumThock(code === 'Space');
                }
            }

            function handleRelease(code) {
                const el = document.getElementById(code);
                if (el) 
                    el
                        .classList
                        .remove('active');
                }
            
            function createParticles(x, y) {
                for (let i = 0; i < 8; i++) {
                    const p = document.createElement('div');
                    p.className = 'particle';
                    const size = Math.random() * 4 + 3;
                    p.style.width = p.style.height = size + 'px';
                    p.style.left = x + 'px';
                    p.style.top = y + 'px';
                    p
                        .style
                        .setProperty('--x', (Math.random() - 0.5) * 120 + 'px');
                    p
                        .style
                        .setProperty('--y', (Math.random() - 0.5) * 120 + 'px');
                    document
                        .body
                        .appendChild(p);
                    setTimeout(() => p.remove(), 600);
                }
            }

            window.addEventListener('keydown', e => {
                const blocked = [
                    'Tab',
                    'Alt',
                    'Meta',
                    'ArrowUp',
                    'ArrowDown',
                    'ArrowLeft',
                    'ArrowRight',
                    'Delete',
                    'PageUp',
                    'PageDown',
                    'Home',
                    ' '
                ];
                if (blocked.includes(e.key)) 
                    e.preventDefault();
                handlePress(e.code);
            });
            window.addEventListener('keyup', e => handleRelease(e.code));
        </script>
    </body>
</html>