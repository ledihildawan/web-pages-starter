<!DOCTYPE html>
{# Fallback bahasa ke 'id' jika tidak diset #}
<html lang="{{ lang | default('id') }}" class="scroll-smooth">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    {# 1. SEO META TAGS (Diambil dari page.json atau global.json) #}
    <title>{{ meta.title | default(site.name) }}</title>
    <meta name="description" content="{{ meta.description | default(site.description) }}">
    <meta name="author" content="{{ site.author }}">

    {# 2. FONTS (Preconnect agar cepat) #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    {# 
       CATATAN: 
       Tidak perlu link CSS manual atau Script manual disini.
       Rsbuild akan otomatis menyuntikkannya (Inject) saat build.
    #}

    {% block extra_head %}{% endblock %}
  </head>
  <body class="min-h-screen bg-slate-950 text-white antialiased font-sans selection:bg-violet-500 selection:text-white">
    
    {# BACKGROUND EFFECT #}
    <div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none">
      <div class="absolute top-0 left-1/4 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl opacity-50 animate-pulse"></div>
      <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-fuchsia-500/10 rounded-full blur-3xl opacity-50 animate-pulse" style="animation-delay: 2s;"></div>
      <div class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:64px_64px]"></div>
    </div>

    {# NAVBAR (Menggunakan data dari menu.json) #}
    {% include "navbar.njk" %}
    
    <main class="relative z-10">
        {% block content %}{% endblock %}
    </main>
    
    {# FOOTER (Menggunakan data dari menu.json & site.json) #}
    {% include "footer.njk" %}

    {# SCRIPT BLOCK (Untuk logic spesifik per halaman) #}
    {% block scripts %}{% endblock %}
    
  </body>
</html>